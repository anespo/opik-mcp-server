{
    "widgets": [
        {
            "type": "metric",
            "x": 0,
            "y": 0,
            "width": 12,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "OpikMCP/Evaluations", "EvaluationScore", "ServiceName", "opik-mcp-server" ],
                    [ ".", "EvaluationCount", ".", "." ],
                    [ ".", "ExecutionTime", ".", "." ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "eu-west-1",
                "title": "Evaluation Metrics Overview",
                "period": 300,
                "stat": "Average"
            }
        },
        {
            "type": "metric",
            "x": 12,
            "y": 0,
            "width": 12,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "OpikMCP/Evaluations", "EvaluationCount", "ServiceName", "opik-mcp-server", "EvaluationStatus", "passed" ],
                    [ "...", "failed" ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "eu-west-1",
                "title": "Evaluation Pass/Fail Rate",
                "period": 300,
                "stat": "Sum"
            }
        },
        {
            "type": "metric",
            "x": 0,
            "y": 6,
            "width": 8,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "OpikMCP/BatchEvaluations", "BatchEvaluationCount", "ServiceName", "opik-mcp-server" ],
                    [ ".", "BatchSuccessRate", ".", "." ],
                    [ ".", "BatchAverageScore", ".", "." ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "eu-west-1",
                "title": "Batch Evaluation Metrics",
                "period": 300,
                "stat": "Average"
            }
        },
        {
            "type": "metric",
            "x": 8,
            "y": 6,
            "width": 8,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/Lambda", "Duration", "FunctionName", "opik-mcp-server" ],
                    [ ".", "Errors", ".", "." ],
                    [ ".", "Invocations", ".", "." ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "eu-west-1",
                "title": "AgentCore Runtime Metrics",
                "period": 300,
                "stat": "Average"
            }
        },
        {
            "type": "metric",
            "x": 16,
            "y": 6,
            "width": 8,
            "height": 6,
            "properties": {
                "metrics": [
                    [ "AWS/X-Ray", "TracesReceived", "ServiceName", "opik-mcp-server" ],
                    [ ".", "TracesProcessed", ".", "." ]
                ],
                "view": "timeSeries",
                "stacked": false,
                "region": "eu-west-1",
                "title": "X-Ray Tracing Metrics",
                "period": 300,
                "stat": "Sum"
            }
        },
        {
            "type": "log",
            "x": 0,
            "y": 12,
            "width": 24,
            "height": 6,
            "properties": {
                "query": "SOURCE '/aws/bedrock-agentcore/opik-evaluations'\n| fields @timestamp, EvaluationId, AgentId, WorkflowId, EvaluationScore, EvaluationStatus\n| filter EvaluationStatus = \"failed\"\n| sort @timestamp desc\n| limit 20",
                "region": "eu-west-1",
                "title": "Recent Failed Evaluations",
                "view": "table"
            }
        },
        {
            "type": "log",
            "x": 0,
            "y": 18,
            "width": 12,
            "height": 6,
            "properties": {
                "query": "SOURCE '/aws/bedrock-agentcore/opik-evaluations'\n| fields @timestamp, AgentId, EvaluationScore\n| filter ispresent(AgentId)\n| stats avg(EvaluationScore) as AvgScore by AgentId\n| sort AvgScore desc",
                "region": "eu-west-1",
                "title": "Agent Performance Ranking",
                "view": "table"
            }
        },
        {
            "type": "log",
            "x": 12,
            "y": 18,
            "width": 12,
            "height": 6,
            "properties": {
                "query": "SOURCE '/aws/bedrock-agentcore/opik-evaluations'\n| fields @timestamp, WorkflowId, EvaluationScore\n| filter ispresent(WorkflowId)\n| stats avg(EvaluationScore) as AvgScore, count() as EvaluationCount by WorkflowId\n| sort AvgScore desc",
                "region": "eu-west-1",
                "title": "Multi-Agent Workflow Performance",
                "view": "table"
            }
        }
    ]
}